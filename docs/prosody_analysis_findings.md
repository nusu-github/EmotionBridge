# EmotionBridge 音声韻律分析から得られた知見

> **プロジェクト**: EmotionBridge
> **対象**: Phase 1（音声サンプル生成）、Phase 3（韻律特徴分析・クロスドメイン整合・パラメータマッチング）
> **作成日**: 2026-02-21
> **特徴量セット**: eGeMAPSv02（88次元 functionals）
> **リファレンスコーパス**: JVNV（6話者・6感情・1,615発話）
> **TTS**: VOICEVOX ずんだもん（5スタイル・95,999サンプル）

---

## 1. 感情ごとの韻律プロファイル（JVNV コーパスから）

JVNV コーパス（6話者: F1-F3, M1-M3）の eGeMAPSv02 特徴量を話者別 Z スコア正規化し、感情ごとの韻律的特徴を抽出した。以下は各感情クラスターの重心ベクトルから読み取れるプロファイルである。

### 怒り (anger) — 249サンプル

**最も音響的に「激しい」感情。** エネルギー系特徴量が全面的に高い。

- **音量**: 平均ラウドネス Z=+1.16、ラウドネス傾斜（上昇/下降とも）Z=+1.3 前後。感情中で最大のエネルギー
- **ピッチ変動**: F0 の標準偏差 Z=+0.97 と大きいが、F0 平均値自体は Z=-0.44 とむしろ低い。低い基音から激しく変動するパターン
- **声質劣化**: jitter Z=+1.32、shimmer Z=+0.92、HNR Z=-1.38。声帯に負荷がかかった粗い声質が計測上も明確
- **スペクトル**: spectralFlux Z=+1.39（voiced）。急激なスペクトル変化が顕著
- **テンポ**: 有声区間長 Z=+0.49 とやや長く、有声セグメント頻度 Z=-0.47 と少ない。勢いよく長く発声し間を取るパターン

### 嫌悪 (disgust) — 258サンプル

**抑制された不快感。** エネルギーは低く、ピッチも落ちる。

- **音量**: ラウドネス全般が負方向。抑えた声で発話
- **ピッチ**: F0 平均値が負方向。低い声で不快感を表現
- **テンポ**: 有声区間長がやや長く（MeanVoicedSegmentLengthSec Z=+0.28）、有声セグメント頻度はやや低い（VoicedSegmentsPerSec Z=-0.24）。引き伸ばし傾向
- **声質**: jitter/shimmer は怒りほど極端でなく、むしろ息を含んだ声質

### 恐怖 (fear) — 265サンプル

**高いピッチ平均だが、変動はむしろ抑制される。**

- **ピッチ**: F0 平均は全感情中で最大（Z=+0.77）だが、F0 変動幅（stddevNorm）は負方向（Z=-0.59）
- **音量**: ラウドネスは低め。エネルギーを込めるのではなく萎縮する方向
- **テンポ**: 有声/無声区間長はほぼ中立（MeanVoicedSegmentLengthSec Z=-0.20, MeanUnvoicedSegmentLength Z=+0.07）
- **声質**: HNR は高め（Z=+0.73）、jitter/shimmer は低め。粗れた声質より「高めで細い声」に近い

### 喜び (happy) — 280サンプル

**テンポの良さが最も明確な感情。** ピッチ上昇と短いポーズが特徴。

- **ピッチ**: F0 平均が上昇。明るい声色
- **テンポ**: 有声セグメント頻度が最大（VoicedSegmentsPerSec Z=+0.55）、無声区間長が最短（MeanUnvoicedSegmentLength Z=-0.68）
- **音量**: ラウドネスは中程度。怒りほどの激しさはない
- **声質**: HNR が比較的高く（声質良好）、jitter が低い。クリアな発声

### 悲しみ (sad) — 257サンプル

**低エネルギー・低ピッチ側に最も寄る感情。**

- **ピッチ**: F0 平均は低下（Z=-0.42）。F0 変動幅はほぼ中立（stddevNorm Z=-0.01）
- **音量**: ラウドネスが全感情中で最も低い。力なく小さな声
- **テンポ**: 発話速度指標はほぼ中立（VoicedSegmentsPerSec Z=+0.10）。有声区間長はやや短く（MeanVoicedSegmentLengthSec Z=-0.35）、無声区間長はほぼ中立
- **声質**: shimmer は中立付近（Z=-0.06）。怒りのような粗れは見られない

### 驚き (surprise) — 306サンプル

**単一の突出軸を持たない中立寄りの感情。**

- **ピッチ**: F0 平均はやや高め（Z=+0.29）だが、F0 変動幅は負方向（stddevNorm Z=-0.42）
- **テンポ/音量**: ラウドネス傾斜・有声区間長とも中立付近で、怒り/悲しみのような強い偏りはない
- **全体**: 音響重心上は中庸だが、後段のマッチングでは速度やポーズのレンジが広く、カテゴリ内異質性は残る

---

## 2. VOICEVOX 制御パラメータの応答性

VOICEVOX 96,000サンプル（LHS 5D制御空間 × 200テキスト）の eGeMAPSv02 特徴量と制御パラメータの偏相関分析結果。

### 制御軸と音響特徴量の対応

| 制御軸       | 最大偏相関特徴量               | 偏相関係数 | 解釈                                                                                     |
| ------------ | ------------------------------ | ---------- | ---------------------------------------------------------------------------------------- |
| pitch_shift  | mfcc1V (voiced区間MFCC第1係数) | **0.933**  | F0系ではなくMFCC1が最大。F0変更に伴いニューラルボコーダーがスペクトル包絡も変化させている |
| pitch_range  | F0 stddevNorm                  | 0.668      | 期待通りF0変動幅と対応                                                                   |
| speed        | loudnessPeaksPerSec            | 0.775      | 音量ピーク頻度＝単位時間あたりの音節数として発話速度を反映                               |
| energy       | loudness mean                  | 0.824      | 期待通り平均ラウドネスと対応                                                             |
| pause_weight | loudness stddevNorm            | 0.772      | 無声区間特徴量ではなくラウドネス変動と対応。ポーズ挿入がラウドネスの分散増加として現れる |

### 発見事項

**pitch_shift は F0 を変えるが、偏相関の最上位はスペクトル包絡特徴量。** 偏相関が最大の特徴量は F0 系ではなく MFCC 第 1 係数（0.933）だった。一方で F0 特徴量も上位に入り（最初の F0 関連特徴は 6 位、|partial corr|=0.759）、pitch_shift の F0 制御自体は確認できる。VOICEVOX のコード上は `pitch * 2.0^pitch_scale` による F0 の指数スケーリングとして実装されているが（§7 参照）、ニューラルボコーダーが F0 変化に連動してスペクトル包絡全体を変形させるため、結果的に MFCC1（スペクトル包絡の全体傾斜を反映する係数）が最も強い応答を示したと考えられる。「pitch_shift がスペクトル包絡を直接制御している」のではなく、「F0 変更の副次効果としてスペクトル包絡も大きく変化する」という理解が正確である。

**pause_weight は直接的なポーズ長制御ではない。** 期待されるのは無声区間長（MeanUnvoicedSegmentLength）との高い相関だが、実際にはラウドネスの標準偏差と最も強く対応した。VOICEVOX の `AudioQuery` 構造体（§7 参照）を見ると、文中ポーズは `AccentPhrase.pause_mora`（モーラ単位の挿入）として、文頭末は `pre_phoneme_length`/`post_phoneme_length` として実装されている。本プロジェクトの pause_weight はこれら複数フィールドの複合制御であり、単純なポーズ挿入とは異なる音響効果をもたらす。なお、独立した "pause_length" フィールドは `AudioQuery` 上には存在しない。

**speed は発話速度そのもの。** loudnessPeaksPerSec との対応は直感的で、単位時間あたりの音節数が増減する。最も意味が明確な制御軸。

### Arousal-Valence 方向整合性の課題

JVNV から学習した Arousal/Valence モデル（Arousal R²=0.57, Valence R²=0.51）に対して VOICEVOX 制御軸の方向整合性を検証したところ、**pitch_shift のみが期待方向と一致**し、speed・energy・pause_weight は不一致だった。

| 制御軸       | 期待方向(arousal) | 実測相関 | 判定              |
| ------------ | ----------------- | -------- | ----------------- |
| pitch_shift  | 正 (>0.15)        | +0.260   | Pass              |
| speed        | 正 (>0.15)        | +0.080   | **Fail**          |
| energy       | 正 (>0.15)        | +0.032   | **Fail**          |
| pause_weight | 負 (<-0.10)       | +0.256   | **Fail** (逆方向) |

これは VOICEVOX の制御パラメータが人間の感情韻律モデル（circumplex model）と整合していないことを意味する。**制御パラメータと感情の間に、心理学的な感情モデルを仲介させるアプローチは、少なくとも VOICEVOX に対しては有効でない。** 本プロジェクトでは A/V 整合性ゲートを診断専用（feature_only ポリシー）として、特徴量応答性のみでゲートを通過させる判断をした。

---

## 3. クロスドメイン整合（JVNV ↔ VOICEVOX）

### ドメインギャップの実態と解消

JVNV（人間の感情音声）と VOICEVOX（TTS合成音声）は、生の eGeMAPSv02 特徴量空間上で極めて大きなギャップがある。

| 指標                           | 整合前 | 整合後 | 変化率         |
| ------------------------------ | ------ | ------ | -------------- |
| Wasserstein距離（平均）        | 16.745 | 0.166  | **99.0% 削減** |
| MMD (Maximum Mean Discrepancy) | 0.201  | 0.006  | 96.8% 削減     |
| 分布重複率                     | —      | 76.9%  | —              |

### ギャップの最大要因: フォルマント周波数

整合処理で最も大きく修正された特徴量の上位 5 つ:

| 特徴量                 | 修正量（Wasserstein距離） |
| ---------------------- | ------------------------- |
| F3 frequency (mean)    | 240.3                     |
| F0 stddev rising slope | 152.6                     |
| F2 frequency (mean)    | 151.5                     |
| F3 bandwidth (mean)    | 133.0                     |
| F1 frequency (mean)    | 119.2                     |

フォルマント周波数（F1/F2/F3）の平均値が圧倒的に大きなギャップを構成していた。これは**話者個体差（声道長・口腔形状）**に起因するもので、感情とは無関係な変動である。Z スコア正規化（話者別/スタイル別）でこの成分が除去されたことで、ギャップの 99% が解消された。

### 整合後も残る特徴量ギャップ

| 特徴量                    | 残存Wasserstein距離 | 解釈                                            |
| ------------------------- | ------------------- | ----------------------------------------------- |
| MeanUnvoicedSegmentLength | 0.650               | ポーズ挿入パターンの本質的な違い（人間 vs TTS） |
| MFCC1 stddev              | 0.516               | スペクトル包絡の動的変動パターンの違い          |
| alphaRatio V stddev       | 0.476               | 高域/低域エネルギー比の変動パターン             |
| F3 frequency mean         | 0.462               | フォルマントの残差（完全には除去不能）          |
| H1-H2 stddev              | 0.448               | 声門波形の動的特徴（ブレス・声質変化）          |

**無声区間長の分布差が最大の残存ギャップ。** 人間は感情によってポーズの入れ方を大きく変えるが、VOICEVOX のポーズ制御は限定的。これは TTS ベースの感情音声合成の本質的な制約の一つである。

### 感情別ドメインギャップ

整合後の感情別 Wasserstein 距離:

| 感情      | 平均距離  | 解釈                                                            |
| --------- | --------- | --------------------------------------------------------------- |
| surprise  | 0.302     | 最小。驚きの音響パターンがTTSで比較的再現しやすい               |
| fear      | 0.314     | 小。ピッチ上昇と低エネルギー化はTTSで比較的制御しやすい         |
| disgust   | 0.329     | 中程度                                                          |
| happy     | 0.377     | 中程度                                                          |
| **sad**   | **0.448** | **最大。悲しみの微細な声質変化（息漏れ・震え）がTTSで再現困難** |
| **anger** | **0.490** | **最大級。怒りの粗い声質（jitter/shimmer高）がTTSで再現困難**   |

悲しみと怒りのギャップが大きいのは、どちらも**声質（voice quality）の変化**が主要な音響手がかりであるためである。怒りは声帯の過緊張による jitter/shimmer 増加、悲しみは声帯の弛緩による息漏れ的な声質。いずれも VOICEVOX のような波形接続型 TTS では韻律パラメータ（F0・速度・エネルギー）では制御できない領域にある。

---

## 4. 感情→制御パラメータのマッチング結果

クロスドメイン整合後の JVNV 感情重心に対して、VOICEVOX 特徴量空間で最近傍 k=25 を検索し、中央値で集約した推奨制御パラメータ。

### 教師行列（DeterministicMixer の 6×5 重み）

| 感情     | pitch_shift | pitch_range | speed     | energy    | pause_weight |
| -------- | ----------- | ----------- | --------- | --------- | ------------ |
| anger    | +0.05       | **+0.39**   | +0.18     | **+0.56** | +0.15        |
| disgust  | **-0.32**   | +0.06       | **-0.30** | -0.20     | -0.06        |
| fear     | **+0.40**   | **+0.41**   | +0.10     | **-0.39** | +0.07        |
| happy    | +0.26       | -0.06       | +0.01     | -0.29     | **-0.43**    |
| sad      | **-0.32**   | **-0.46**   | +0.22     | **-0.57** | +0.24        |
| surprise | -0.06       | -0.38       | -0.11     | -0.16     | +0.20        |

### 各感情の制御パラメータ解釈

**怒り**: エネルギーの大幅増加（+0.56）とピッチ変動幅の拡大（+0.39）が主軸。ピッチ平均はほぼ中立（+0.05）。「大声で激しく抑揚をつけて話す」パターン。JVNV での「低い基音から激しく変動する」パターンのうち、VOICEVOX で再現可能な部分のみが抽出されている。

**嫌悪**: ピッチ低下（-0.32）と速度低下（-0.30）が主軸。全体的に抑えた発話。エネルギーも低下するが控えめ（-0.20）。ピッチ変動幅はほぼ中立（+0.06）で、単調に低い声で遅く話すパターン。

**恐怖**: ピッチの上昇（+0.40）と変動幅拡大（+0.41）が大きく、一方でエネルギーは大幅低下（-0.39）。「高めだが弱い声」という萎縮方向は維持される。ただし JVNV 重心では F0 変動幅は負方向であり、この軸は JVNV と VOICEVOX の対応でズレが残る。

**喜び**: ポーズの短縮（-0.43）が最も顕著な特徴。ピッチはやや上昇（+0.26）するがピッチ変動幅はほぼ中立。速度もほぼ中立。**テンポの良さ（ポーズの少なさ）が喜びの主要な韻律的手がかり** として現れた点は興味深い。音量は下がる（-0.29）が、これは JVNV で喜びが叫びではなく「弾むような」発話として録音されていることの反映と考えられる。

**悲しみ**: エネルギーの大幅低下（-0.57）が全感情・全パラメータの中で絶対値最大。ピッチ変動幅の縮小（-0.46）とピッチ低下（-0.32）を伴う。「小さな声で単調に低く話す」という定型パターンが定量的に確認できた。なお、距離分散の最小は surprise（distance std: 0.081）であり、sad（0.142）は「最小」ではない。

**驚き**: 全パラメータが小さめの値に留まり、突出した軸がない。ピッチ変動幅がやや縮小（-0.38）、ポーズがやや増加（+0.20）。驚きが異質性の高い感情であることがここにも現れており、k=25 の中央値集約では各サンプルの対立する傾向が打ち消し合った結果と考えられる。distance std が 0.081 と最小なのは、遠くのサンプルが均等に散らばっているためであり、パラメータ内の分散は実は大きい（speed の range: [-0.69, +0.97]）。

---

## 5. VOICEVOX スタイルの感情表現能力

### 5.1 style_id-zscore 空間ではスタイル距離がほぼ等しい（縮退空間）

ずんだもんの5スタイル（あまあま, ノーマル, セクシー, ツンツン, なみだめ）について、`style_id` 内 Z スコア空間で各感情重心からのユークリッド距離を計測したところ、**同一感情内のスタイル間距離差が極めて小さかった**。

| 感情     | 最近傍スタイル | 距離      | 最遠スタイル | 距離      | 差分      |
| -------- | -------------- | --------- | ------------ | --------- | --------- |
| anger    | ツンツン       | 5.5329116 | セクシー     | 5.5329121 | 0.0000005 |
| disgust  | セクシー       | 2.8816961 | あまあま     | 2.8816965 | 0.0000005 |
| fear     | あまあま       | 2.7800761 | セクシー     | 2.7800766 | 0.0000005 |
| happy    | ツンツン       | 3.6919509 | セクシー     | 3.6919512 | 0.0000003 |
| sad      | セクシー       | 4.0796971 | ツンツン     | 4.0796975 | 0.0000005 |
| surprise | あまあま       | 2.5265332 | ツンツン     | 2.5265338 | 0.0000006 |

**スタイル間の最大距離差は 10^-6 オーダー。** ただし、これは「スタイル差がない」ことを直接意味しない。

### 5.2 追試（2026-02-21）: 主効果・交互作用は実務上十分に大きい

`artifacts/prosody/v03/style_influence_metrics.json` にて、raw 特徴の global z-score 空間で `style_id` 主効果と `style_id × 5D制御` 交互作用を評価した。

- `style_signal_status`: **retain_style**
- `style_main_feature_ratio`: **0.795**（閾値 0.15）
- `interaction_feature_ratio`: **0.818**（閾値 0.15）
- `partial_eta2_style_main`: 平均 **0.104**、最大 **0.477**
- `partial_eta2_interaction`: 平均 **0.126**、最大 **0.540**
- `η²(style)`（raw）: 平均 **0.067**、最大 **0.354**

この結果により、**スタイルは「残すべき制御軸」である**ことが客観指標で裏付けられた。  
すなわち、`style_id-zscore` 空間では縮退して見えるが、制御で条件付けした空間では主効果・交互作用ともに有意な実用サイズを持つ。

### 5.3 現在の運用判断

`build_style_mapping.py` は効果量ゲートを統合済みであり、`style_signal_status=retain_style` の場合は raw global z-score 空間を優先してスタイル重心を構築する。

- `profile_source`: `voicevox_egemaps_raw(global_zscore_style_signal)`
- `profile_source_reason`: `style_signal_status=retain_style`

加えてオンライン推論のスタイル選択ロジックも更新し、`dominant_emotion -> 固定style` の1点参照ではなく、`emotion_probs` 全体と距離行列を使う連続スコアに切り替えた。さらに `style × control` 交互作用を取り込むため、style別回帰による互換項を加算する構成へ移行した。  
したがって結論は「スタイルが影響していない」ではなく、**スタイル信号は強く存在し（retain_style）、それをオンライン選択に活用する運用へ改修済み**である。

従って本プロジェクトの結論は、次の通りに更新される。

1. **「スタイル差がない」ではなく、「style_id-zscore 空間では縮退するが、運用上のスタイル信号は十分に存在する」が正確**
2. 5D 制御パラメータは主軸だが、スタイル軸を捨てるべきではない
3. 実運用では客観判定（retain/deprioritize）に主観聴取を重ねて最終調整する

---

## 6. 総合的な知見と教訓

### 6.1 TTS の制御パラメータは感情の一部しか表現できない

感情韻律の構成要素は大きく3層に分かれる:

| 層                       | 内容                               | VOICEVOX で制御可能か                    |
| ------------------------ | ---------------------------------- | ---------------------------------------- |
| **超分節的韻律**         | F0パターン、発話速度、音量、ポーズ | 部分的に可能（pitch/speed/energy/pause） |
| **声質 (voice quality)** | jitter, shimmer, HNR, ブレス       | **不可能**                               |
| **調音的特徴**           | フォルマント遷移、子音強度         | **不可能**                               |

怒り・悲しみのクロスドメインギャップが大きいのは、これらの感情が声質変化に大きく依存しているためである。逆に、恐怖・驚きのギャップが小さいのは、これらが主にピッチとテンポの変化で表現されるためである。

### 6.2 Arousal-Valence モデルは TTS パラメータマッピングに不向き

心理学的な感情の次元モデル（Russell の circumplex model）を VOICEVOX の制御空間に仲介させる方法論は機能しなかった。VOICEVOX の各制御軸は Arousal/Valence 軸と弱い相関しか持たず（最大でも r=0.41）、方向整合性テストで 4 軸中 3 軸が不合格だった。加えて、JVNV 上での A/V 回帰は train R² では 0.57/0.51 だが GroupKFold では 0.27/0.17 まで低下し、汎化性能も高くない。

**直接的な「感情→制御パラメータ」の教師あり学習が有効。** 本プロジェクトの最終的なアプローチ（DeterministicMixer: 感情確率ベクトルから教師行列の線形混合で制御パラメータを生成）は、A/V モデルを介さず感情と TTS パラメータを直接結合するものであり、MAE ≈ 0 の完全な再現を達成した。

### 6.3 話者正規化の重要性

整合前 Wasserstein 距離 16.7 → 整合後 0.17 という 99% の削減は、**生の音響特徴量の大部分が話者個体差で占められている**ことを示す。音声感情認識や TTS 制御のための音響特徴量を用いる際は、話者正規化（Z スコア等）が前処理として不可欠である。特にフォルマント周波数（F1/F2/F3）は話者差の影響が桁違いに大きい。

### 6.4 悲しみは「低エネルギー軸」が最も明瞭な感情

悲しみは推奨パラメータ上で `energy=-0.57` が絶対値最大で、低エネルギー化の方向が最も強く表れる。一方で一貫性の順位は指標依存であり、距離分散の最小は surprise（0.081）で sad（0.142）ではない。したがって「悲しみが常に最も予測しやすい」とは断定せず、**低エネルギー軸に関して最も明確**と解釈するのが妥当。

### 6.5 驚きは単一ベクトルで表現できない

驚きの制御パラメータは k=25 の集約で他の感情よりも特徴のないベクトルとなった。これは驚きが本質的に**ポジティブ驚き（歓声的）とネガティブ驚き（衝撃的）**を含む複合カテゴリであり、マッチングにおいて対立する傾向が打ち消し合ったためである。感情カテゴリの細分化（例: positive_surprise / negative_surprise）がなければ、驚きの韻律制御は原理的に曖昧さを残す。

### 6.6 ポーズ制御が過小評価されている可能性

整合後の残存ギャップ第 1 位が MeanUnvoicedSegmentLength（0.650）であったことは、人間の感情表現においてポーズ（沈黙・間）が果たす役割が大きいにもかかわらず、TTS のポーズ制御が不十分であることを示す。特に悲しみ（間が多い）と怒り（勢いよく詰めて話す）のポーズパターンの再現は、現行の pause_weight 単独パラメータでは限界がある。文中のポーズ位置・長さを個別制御する仕組みが将来的に必要となる。

---

## 7. VOICEVOX 実装コードとの照合

分析結果を VOICEVOX コアの Rust 実装と照合し、知見の妥当性を検証した。

### コードで裏付けられた知見

**pitch_range（= `intonation_scale`）と F0 stddev の対応。** `interpret_query.rs` における以下の実装が、偏相関 0.668 の対応を構造的に説明する:

```rust
f0_list[i] = (f0_list[i] - mean_f0) * intonation_scale + mean_f0;
```

平均 F0 を中心にスケーリングしており、`intonation_scale` が大きいほど F0 の偏差（= stddev）が比例的に拡大する。偏相関が 1.0 にならないのは、eGeMAPSv02 の `F0semitoneFrom27.5Hz_sma3nz_stddevNorm` がセミトーン単位かつ正規化された統計量であり、線形スケーリングとの対応が非線形になるためと考えられる。

**pause_weight の複合性。** `AudioQuery` 構造体は文中ポーズを `AccentPhrase.pause_mora`（mora 単位）で、文頭末を `pre_phoneme_length`/`post_phoneme_length` で管理する。本プロジェクトの pause_weight がラウドネス stddev と最も強く相関した（0.772）のは、これらの複合的なポーズ操作が「音量がある区間とない区間の交替パターン」として eGeMAPSv02 に反映されたためであり、`AudioQuery` の構造と整合する。

**スタイル間距離の微小差。** VOICEVOX コードにおいて `style_id` は `ids_for::<TalkDomain>(style_id)` のように使われており、**どのニューラルネットの重みセットを使うかを選択するキー**として機能する。`AudioQuery` にスタイル固有の音響パラメータが載るわけではなく、韻律制御パラメータ（F0・速度・エネルギー等）の解釈ロジックはスタイル間で共通である。加えて `style_id` ごとの Z スコア正規化空間ではスタイル重心が一致しやすい。したがって 10^-6 オーダーの距離差は「実装構造」と「前処理」の両方で説明できる。  
一方で現行運用では、`style_signal_status=retain_style` の場合に raw global z-score 空間でマッピングを構築し、オンライン選択でも距離行列 + 互換項で style をスコアリングするため、縮退空間のみを根拠にスタイルを捨てない設計へ更新済みである。

### コードとの齟齬に関する注記

**pitch_shift（= `pitch_scale`）の主効果。** VOICEVOX コア上の実装は:

```rust
let f0_single = pitch * 2.0_f32.powf(*pitch_scale);
```

明確に F0 の指数スケーリングであり、スペクトル包絡を直接操作する処理はない。にもかかわらず偏相関で MFCC1（0.933）が F0 系特徴量を上回った原因として、以下の 2 つの仮説が考えられる:

1. **ボコーダーアーティファクト仮説**: F0 を大きく変更すると、ニューラルボコーダー（VOICEVOX の音声合成バックエンド）がスペクトル包絡全体を再推定する際に F0 変化に引きずられた変形が生じる。MFCC 第 1 係数はスペクトル包絡の全体傾斜を反映するため、この副次効果を最も鋭敏に捉えた
2. **正規化アーティファクト仮説**: スタイル別 Z スコア正規化後に F0 系特徴量の分散が圧縮された結果、偏相関の計算上 MFCC1 が相対的に上位に浮上した

いずれにせよ、pitch_shift の実装意図は F0 制御であり、「スペクトル包絡の直接制御」という解釈は正確ではない。音響的な主効果がスペクトル側に現れるのはボコーダーの挙動に依存する結果である。

---

## 8. 再検討で追加した別視点（追記）

### 8.1 k値感度（k=15/25/50）

推奨パラメータ（中央値）の k 依存性を再計算した。k=25 を基準にした最大変化量は以下。

- k=15: 最大 0.152（sad/speed）
- k=50: 最大 0.120（fear/pitch_range）

軸によっては k に対する感度が無視できず、特に speed/pitch_range は不安定になりやすい。

### 8.2 推奨パラメータの不確かさ（bootstrap）

k=25 近傍集合に対して中央値の 95% CI 幅を推定すると、最大幅は以下。

- anger: speed 0.507
- fear: pitch_range 0.899
- sad: pause_weight 0.435
- surprise: speed 0.475

単一点の教師行列で運用する場合でも、軸ごとに信頼幅を併記して扱う方が安全。

### 8.3 controllability 重み付きドメインギャップ

V-02 の偏相関重みで各特徴量ギャップを重み付けすると、全体平均ギャップは 0.166 → 0.131 へ低下した。つまり、残差の一部は「制御不能方向」に偏っている。一方で感情別では:

- anger: 0.490 → 0.560
- sad: 0.448 → 0.515

となり、怒り・悲しみは「制御可能な方向」にも大きな残差を残す。これは実運用上の難所として優先的に扱うべき。

### 8.4 A/V 仲介の限界（汎化観点）

A/V 回帰は train R²（0.57/0.51）では中程度だが、GroupKFold では 0.27/0.17 に低下。さらに VOICEVOX の 5D 制御から予測 A/V を線形回帰すると CV R² は arousal 0.095, valence 0.169 に留まる。A/V は診断軸としては有用だが、制御生成の主軸に据えるには情報保持が不足する。

---

## 付録: 主要メトリクスサマリ

| 指標                                    | 値                      | 閾値     | 判定     |
| --------------------------------------- | ----------------------- | -------- | -------- |
| 音声生成成功率                          | 99.999% (95,999/96,000) | >99%     | Go       |
| 制御応答性（5軸全て）                   | 0.668–0.933             | >0.60    | Go       |
| ドメインギャップ（Wasserstein, 整合後） | 0.166                   | <0.50    | Go       |
| 分布重複率                              | 76.9%                   | >50%     | Go       |
| Generator MAE（マクロ）                 | 3.73×10⁻⁹               | <0.20    | Go       |
| A/V方向整合性                           | 1/4 pass                | 診断のみ | (不採用) |
